Symfony Product API – Test Technique Backend

Projet Symfony permettant de gérer des produits et des catégories avec une relation ManyToMany.  
Une API REST est exposée via API Platform, un back-office est disponible via EasyAdmin et un traitement asynchrone minimal est implémenté avec Symfony Messenger.

### 1. Installation / lancement via Docker

À la racine du projet, lancer les conteneurs Docker :

docker compose up -d

Accéder au conteneur PHP :

docker compose exec php bash

Installer les dépendances si nécessaire :

composer install

### 2. Commandes utiles

Créer la base de données :

php bin/console doctrine:database:create

Exécuter les migrations :

php bin/console doctrine:migrations:migrate

Vider le cache :

docker compose exec php bash

php bin/console cache:clear

### 3. Lancer le consumer Messenger 

Dans le cas d’un transport asynchrone, le consumer Messenger peut être lancé avec la commande suivante :

docker compose exec php bash

php bin/console messenger:consume sync -vv

### 4. Comment tester rapidement l’API

La documentation interactive de l’API (Swagger / API Platform) est accessible à l’adresse suivante :

http://localhost:8080/api

Exemples de requêtes curl.

Créer une catégorie :

curl -X POST http://localhost:8080/api/categories \
-H "Content-Type: application/ld+json" \
-d '{"designation":"Categorie A"}'

Créer un produit :

curl -X POST http://localhost:8080/api/products \
-H "Content-Type: application/ld+json" \
-d '{"designation":"Produit 1"}'

Affecter une catégorie à un produit :

curl -X PATCH http://localhost:8080/api/products/1 \
-H "Content-Type: application/merge-patch+json" \
-d '{"categories":["/api/categories/1"]}'

Le back-office EasyAdmin est accessible à l’adresse suivante :

http://localhost:8080/admin
